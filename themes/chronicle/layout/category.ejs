<section class="taxonomy">
  <% if (page.category) { %>
    <% var catPosts = filter_posts(page.posts); %>
    <%- partial('_partial/section-header', { title: page.category, description: catPosts.length + ' ' + __('posts_suffix') }) %>
    <div class="chronicle-list">
      <% catPosts.sort('-date').forEach(function(post) { %>
        <%- partial('_partial/post-card', { item: post }) %>
      <% }) %>
    </div>
    <%- partial('_partial/pagination') %>
  <% } else { %>
    <%- partial('_partial/section-header', { title: __('category'), description: '' }) %>
    <div class="category-list">
      <% site.categories.forEach(function(cat) { %>
        <a class="category-list__item" href="<%- url_for(cat.path) %>">
          <span class="category-list__name"><%= cat.name %></span>
          <span class="category-list__count"><%= cat.length %></span>
        </a>
      <% }) %>
    </div>
  <% } %>
</section>
