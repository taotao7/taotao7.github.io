<!DOCTYPE html>

<html lang="zh-CN">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  <title>Go 语言解析 YAML — tao&#39;s blog</title>
  <meta name="description" content="Tech Blog">
  
  <meta name="keywords" content="nodejs c# js ts python">
  
  <link rel="canonical" href="https://taotao7.top/2020/12/19/go-yaml-parsing/index.html">
  
  <link rel="alternate" type="application/atom+xml" title="tao&#39;s blog" href="/zh-CN/atom.xml">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Metamorphous&family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">
  
<link rel="stylesheet" href="/zh-CN/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

  <body>
    <header class="header" id="header">
  <div class="container header__inner">
    <a class="header__logo" href="/zh-CN/" aria-label="tao&#39;s blog">
      tao&#39;s blog
    </a>
    
    <button class="header__toggle" id="nav-toggle" aria-label="切换导航">
      <span></span><span></span><span></span>
    </button>
    <nav class="header__nav" id="nav-menu">
      
        <a class="header__link" href="/zh-CN/">首页</a>
      
        <a class="header__link" href="/zh-CN/archives/">归档</a>
      
        <a class="header__link" href="/zh-CN/tags/">标签</a>
      
        <a class="header__link" href="/zh-CN/project/">项目</a>
      
        <a class="header__link" href="/zh-CN/about/">关于</a>
      
        <a class="header__link" target="_blank" rel="noopener" href="https://github.com/taotao7">GitHub</a>
      
      
        <a class="header__link header__link--rss" href="/zh-CN/atom.xml" aria-label="RSS">RSS</a>
      
      <button
        class="header__link header__link--lang"
        id="lang-switch"
        type="button"
        aria-label="切换语言"
        data-default-lang="en"
        data-current-lang="zh-CN"
        data-other-lang="en"
      >EN</button>
    </nav>
  </div>
</header>

    <main class="main">
      <div class="container"><article class="post">
  <header class="post__header">
    <h1 class="post__title">Go 语言解析 YAML</h1>
    <div class="post__meta">
      <time datetime="2020-12-19">2020-12-19</time>
      
        <span class="post__sep">&middot;</span>
        
        <span class="post__reading-time">2 分钟阅读</span>
      
      
    </div>
    
    <div class="post__tags">
      
        <a class="tag-pill" href="/zh-CN/tags/Go/">Go</a>
      
        <a class="tag-pill" href="/zh-CN/tags/YAML/">YAML</a>
      
    </div>
    
  </header>

  <div class="post__layout">
    
<aside class="toc-wrap" id="toc-wrap">
  <button class="toc-toggle" id="toc-toggle" aria-label="切换目录">内容</button>
  <nav class="toc" id="toc">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#gopkg-in-yaml-v2"><span class="toc-text">gopkg.in&#x2F;yaml.v2</span></a></li></ol>
  </nav>
</aside>


    <div class="post__content" id="post-content">
      <h2 id="gopkg-in-yaml-v2"><a href="#gopkg-in-yaml-v2" class="headerlink" title="gopkg.in/yaml.v2"></a>gopkg.in/yaml.v2</h2><p>假设 <code>config.yaml</code> 与入口文件在同一目录下。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">TodoLists:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">Test</span> <span class="hljs-number">1</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">Test</span> <span class="hljs-number">2</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">Test</span> <span class="hljs-number">3</span><br><br><span class="hljs-attr">CloudKey:</span> <span class="hljs-string">adasdx7817238123213</span><br></code></pre></td></tr></table></figure>

<p>以下是将其解析为结构体的方法：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>    <span class="hljs-string">&quot;fmt&quot;</span><br>    <span class="hljs-string">&quot;io/ioutil&quot;</span><br>    <span class="hljs-string">&quot;gopkg.in/yaml.v2&quot;</span><br>)<br><br><span class="hljs-comment">// 定义与 YAML 匹配的结构体</span><br><span class="hljs-keyword">type</span> TodoLists <span class="hljs-keyword">struct</span> &#123;<br>    <span class="hljs-comment">// 使用 tags 映射 YAML 键到结构体字段</span><br>    Lists []<span class="hljs-type">string</span> <span class="hljs-string">`yaml:&quot;TodoLists&quot;`</span><br>    CloudKey <span class="hljs-type">string</span> <span class="hljs-string">`yaml:&quot;CloudKey&quot;`</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-comment">// 初始化结构体</span><br>    todolists := TodoLists&#123;&#125;<br>    filePath := <span class="hljs-string">&quot;./config.yaml&quot;</span><br><br>    buffer, err := ioutil.ReadFile(filePath)<br><br>    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>        <span class="hljs-built_in">panic</span>(err)<br>    &#125;<br><br>    <span class="hljs-comment">// 将 YAML 数据反序列化到结构体中</span><br>    err = yaml.Unmarshal(buffer, &amp;todolists)<br>    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>        <span class="hljs-built_in">panic</span>(err)<br>    &#125;<br><br>    <span class="hljs-comment">// 遍历并打印列表</span><br>    <span class="hljs-keyword">for</span> _, value := <span class="hljs-keyword">range</span> todolists.Lists &#123;<br>        fmt.Println(value)<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// Output:</span><br><span class="hljs-comment">// Test 1</span><br><span class="hljs-comment">// Test 2</span><br><span class="hljs-comment">// Test 3</span><br></code></pre></td></tr></table></figure>

    </div>
  </div>

  <footer class="post__footer">
    
    <div class="post__copyright">
      <p>作者: tao</p>
      <p>链接: <a href="https://taotao7.top/2020/12/19/go-yaml-parsing/">https://taotao7.top/2020/12/19/go-yaml-parsing/</a></p>
      <p>许可: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a></p>
    </div>
    

    
    <nav class="post-nav">
      
      <a class="post-nav__link post-nav__prev" href="/zh-CN/2022/08/18/algorithm-sorting/">
        <span class="post-nav__label">&larr; 上一篇</span>
        <span class="post-nav__title">算法：排序</span>
      </a>
      
      
      <a class="post-nav__link post-nav__next" href="/zh-CN/2020/12/07/axios-download-button/">
        <span class="post-nav__label">下一篇 &rarr;</span>
        <span class="post-nav__title">Axios 文件下载与 Ant Design 按钮</span>
      </a>
      
    </nav>
    
  </footer>
</article>
</div>
    </main>
    <footer class="footer">
  <div class="container footer__inner">
    <div class="footer__left">
      <span>&copy; 2026 tao</span>
      <span class="footer__sep">&middot;</span>
      <span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a></span>
    </div>
    <div class="footer__right">
      
        
        
        
      
    </div>
  </div>
</footer>
 
<script src="/zh-CN/js/main.js"></script>


  <script src="/zh-CN/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"display":null,"superSample":2,"width":150,"height":300,"position":"right","hOffset":0,"vOffset":-20,"jsonPath":"/zh-CN/live2dw/assets/assets/wanko.model.json"},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body>
</html>
